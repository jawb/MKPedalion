const points = [[111.923,107.954],
    [112.021,107.965],
    [112.117,107.985],
    [112.211,108.011],
    [112.303,108.045],
    [112.392,108.086],
    [112.478,108.134],
    [112.560,108.189],
    [112.637,108.249],
    [112.709,108.316],
    [112.776,108.388],
    [112.836,108.465],
    [112.891,108.547],
    [112.939,108.633],
    [112.980,108.722],
    [113.014,108.814],
    [113.040,108.908],
    [113.060,109.004],
    [113.071,109.102],
    [113.075,109.200],
    [113.071,109.298],
    [113.060,109.396],
    [113.040,109.492],
    [113.014,109.586],
    [112.980,109.678],
    [112.939,109.767],
    [112.891,109.853],
    [112.836,109.935],
    [112.776,110.012],
    [112.709,110.084],
    [112.637,110.151],
    [112.560,110.211],
    [112.478,110.266],
    [112.392,110.314],
    [112.303,110.355],
    [112.211,110.389],
    [112.117,110.415],
    [112.021,110.435],
    [111.923,110.446],
    [111.825,110.450],
    [111.727,110.446],
    [111.629,110.435],
    [111.533,110.415],
    [111.439,110.389],
    [111.347,110.355],
    [111.258,110.314],
    [111.172,110.266],
    [111.090,110.211],
    [111.013,110.151],
    [110.941,110.084],
    [110.874,110.012],
    [110.814,109.935],
    [110.759,109.853],
    [110.711,109.767],
    [110.670,109.678],
    [110.636,109.586],
    [110.610,109.492],
    [110.590,109.396],
    [110.579,109.298],
    [110.575,109.200],
    [110.579,109.102],
    [110.590,109.004],
    [110.610,108.908],
    [110.636,108.814],
    [110.670,108.722],
    [110.711,108.633],
    [110.759,108.547],
    [110.814,108.465],
    [110.874,108.388],
    [110.941,108.316],
    [111.013,108.249],
    [111.090,108.189],
    [111.172,108.134],
    [111.258,108.086],
    [111.347,108.045],
    [111.439,108.011],
    [111.533,107.985],
    [111.629,107.965],
    [111.727,107.954],
    [111.825,107.950]];

function center() {
    for (let i = points.length - 1; i >= 0; i--) {
        for (let j = points.length - 1; j >= 0; j--) {
            const a = points[i][0]
            const b = points[j][0]
            if (Math.abs(a-b) === 2.5) {
                console.log(i,j)
                return;
            }
        }
    }
}


// center()
// console.log(points[59], points[19])


function get(dx,dy) {
    const cx = 111.825
    const cy = 109.2
    const tx = cx - dx;
    const ty = cy - dy;
    const newPoints = points.map(e => [(e[0]-tx).toFixed(3), (e[1]-ty).toFixed(3)].join(',')).join(' ')
    return '<polygon points="'+newPoints+'" style="fill:none;stroke-width:0.050000mm;stroke:black"/>';
}

function holes() {
    const res = [
        // [53.199, 139.800], [53.199, 176.900],
        // [100.825, 139.800], [100.825, 176.900],
        // [196.075, 139.800], [196.075, 176.900],
        // [243.7, 139.800], [243.7, 176.900]
        // [30.775, 30.775], [133.525, 30.775], [30.775, 109.712], [114.475, 109.712],
        [164.075, 30.775], [267.275, 30.775], [267.275, 109.712], [183.175, 109.712]
    ].map(pt => {
        const dx = pt[0]
        const dy = pt[1]
        return get(dx,dy)
    }).join("\n")
    console.log(res);
}
// holes()

function pointsParse(points) {
    return points.split(' ').map(e => e.split(',').map(parseFloat))
}

function maxX(points) {
    const xs = pointsParse(points).map(e => e[0])
    console.log(Math.max.apply(null, xs))
}

function maxX2(points) {
    const xs = pointsParse(points).map(e => e[0]).sort().filter((v, i, a) => a.indexOf(v) === i).reverse()
    console.log(xs[1])
}

function maxY(points) {
    const ys = pointsParse(points).map(e => e[1])
    console.log(Math.max.apply(null, ys))
}

// maxX('47.574,150.550 47.574,151.350 46.574,151.350 46.574,165.350 47.574,165.350 47.574,166.150 50.675,166.150 50.675,165.350 56.474,165.350 56.474,166.150 59.574,166.150 59.574,165.350 60.574,165.350 60.574,151.350 59.574,151.350 59.574,150.550 56.474,150.550 56.474,151.350 50.675,151.350 50.675,150.550')
// maxY('60.574,99.962 61.374,99.962 61.374,103.062 60.574,103.062 60.574,108.862 61.374,108.862 61.374,111.962 60.574,111.962 60.574,112.962 46.574,112.962 46.574,111.962 45.775,111.962 45.775,108.862 46.574,108.862 46.574,103.062 45.775,103.062 45.775,99.962 46.574,99.962 46.574,98.962 60.574,98.962')
// maxX2('117.725,90.437 118.524,90.437 118.524,93.537 117.725,93.537 117.725,99.337 118.524,99.337 118.524,102.437 117.725,102.437 117.725,103.437 103.725,103.437 103.725,102.437 102.925,102.437 102.925,99.337 103.725,99.337 103.725,93.537 102.925,93.537 102.925,90.437 103.725,90.437 103.725,89.437 117.725,89.437')
